<h1 exec="glob.pageTitle = `${this.textContent} - myweb`">
	<span class="cd" translate="no">loc</span> - маршрутизация
</h1>
<p>Для организации марштизации приложения можно использовать реактивный объект <span class="cd" translate="no">loc</span>, который содержит информацию об адресной строке запрошенного документа.</p>
<p>Этот объект изменяется при изменении адреса текущего документа (изменение истории), которое может быть вызвано методами <span class="cd" translate="no">history.pushState()</span>
	или <span class="cd" translate="no">history.replaceState()</span>, или изменение свойства <span class="cd" translate="no">location.hash</span>.</p>
<p>Используя этот объект можно реагировать на изменение адреса документа и отображать изменения интерфейса без перезагрузки страницы.</p>
<h2>Структура объекта</h2>
<ul class="props">
	<!--li>
		<div class="props-marker">
			<span class="cd" translate="no">href</span>
		</div>
		<p>Строка с URL, для теущего документа равна: <span class="cd" translate="no">${loc.href}</span></p>
	</li-->
	<li>
		<div class="props-marker">
			<span class="cd" translate="no">path</span>
		</div>
		<p>Строка содержащая URL без хоста, для теущего документа равна: <span class="cd" translate="no">${loc.path}</span></p>
	</li>
	<li>
		<div class="props-marker">
			<span class="cd" translate="no">query</span>
		</div>
		<p><span class="cd" translate="no">Map</span> c GET параметрами, для теущего документа равна: <span class="cd" translate="no">[${Array.from(loc.query).map(v => v.join('='))}]</span></p>
	</li>
	<li>
		<div class="props-marker">
			<span class="cd" translate="no">hash</span>
		</div>
		<p>Объект с информацией о хэше документа:</p>
		<ul class="props">
			<!--li>
				<div class="props-marker">
					<span class="cd" translate="no">href</span>
				</div>
				<p>Строка с хэшем включая символ "#", для теущего документа равна: <span class="cd" translate="no">${loc.hash.href || `empty string`}</span></p>
			</li-->
			<li>
				<div class="props-marker">
					<span class="cd" translate="no">path</span>
				</div>
				<p>Строка с хэшем исключая символ "#", для теущего документа равна: <span class="cd" translate="no">${loc.hash.path || `empty string`}</span></p>
			</li>
		</ul>
	</li>
</ul>
<h2>Пример</h2>
<p>Даннй пример показываент как можно организовать маршрутизацию на странице сайта.
	Шаблон состоит из блока навигации и блока с контентной частью - используемые файлы приведены ниже.</p>
<p>Файл меню навигации по сайту: <a href="/doc/loc/ex1/nav.html" target="_blank" translate="no">nav.html</a></p>
<div class="code cd" html.t="fetch(`/doc/loc/ex1/nav.html`).then(res => res.text())"></div>
<p>Файл "Главной" старницы: <a href="/doc/loc/ex1/home.html" target="_blank" translate="no">home.html</a></p>
<div class="code cd" html.t="fetch(`/doc/loc/ex1/home.html`).then(res => res.text())"></div>
<p>Файл старницы "О нас": <a href="/doc/loc/ex1/about.html" target="_blank" translate="no">about.html</a></p>
<div class="code cd" html.t="fetch(`/doc/loc/ex1/about.html`).then(res => res.text())"></div>
<p>Файл старницы "Контакты": <a href="/doc/loc/ex1/contacts.html" target="_blank" translate="no">contacts.html</a></p>
<div class="code cd" html.t="fetch(`/doc/loc/ex1/home.html`).then(res => res.text())"></div>
<p>Файл старницы "404": <a href="/doc/loc/ex1/404.html" target="_blank" translate="no">404.html</a></p>
<div class="code cd" html.t="fetch(`/doc/loc/ex1/404.html`).then(res => res.text())"></div>
<p align="right">
	<i>Этот пример лучще смотреть в отдельном окне</i>
</p>
<link exec.url="getLangEx(`./loc/ex1`, self.glob.lang)"
	inc="`/ctrl/mwex/mwex.html`" />
<link exec.menu="self.leftNav"
	inc="getLangInc(`/page/next_prev`, self.glob.lang)" />